
@model IEnumerable<CustomerManagementSystem.Models.Customer>

@{
    var customers = ViewBag.customers;
    ViewData["Title"] = "CreateCustomers";

}

<div class="table-responsive justify-content-md-center">
   <p>The following customers have been saved</p>

    @{ if (@customers.Count() > 0)
        {
            <table class="table table-bordered table-striped text-center" style=" border-collapse: separate; width:100%">
                <thead class="thead-dark">
                    <tr>
                        <th>
                            @Html.DisplayNameFor(model => model.Name)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Surname)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Email)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.PhoneNumber)
                        </th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @{ foreach (var item in @customers as List<Customer>)
                        {
                            String phoneNumber = String.Concat("+27", Convert.ToString(item.PhoneNumber));
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Id)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Name)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Surname)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Email)
                                </td>
                                <td>

                                    @Html.DisplayFor(modelItem => phoneNumber)
                                </td>

                                <td>
                                    <a type="button" class="btn btn-primary" asp-action="Edit" asp-route-id="@item.Id">Edit</a> |
                                    <a type="button" class="btn btn-info" asp-action="Details" asp-route-id="@item.Id">Details</a> |
                                    <a type="button" class="btn btn-danger" asp-action="Delete" asp-route-id="@item.Id">Delete</a>
                                </td>
                            </tr>
                        }
                    }
                </tbody>
            </table>

        }
    }

</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="~/lib/csv-form/CsvForm.js"></script>

